#FR-001
> Как конечных пользователь приложения, хочу выбирать поставщика как из общего перечня, так и из списока "избранных" (ранее активных) для товара/склада. Это позволит быстрее переназначать поставщика и как результат упростит работу с системой.

##Цель FR:
Для улучшения usability, отображать в __SKU Card__(SKU data) информацию о последних Поставщиках.

##Дизайн диалогового окна:
- [Screen As-is](https://www.dropbox.com/s/e00emj5rtmbyatc/SuppliersAsIs.PNG?dl=0)
- [Mockup To-be](https://www.dropbox.com/s/6f4vn3x198uewjo/SuppliersFB_v0.1.PNG?dl=0)

##Решение на уровне БД:
Сохранять в отдельной Таблице _(например, RecentSupplier)_ "историю" Поставщиков.

###Поля таблицы:
- SKU {Product_id} 
- Warehouse {Warehouse_id} 
- SupplierCode {Supplier_id} 

Т.е. Supplier_id для SKU+Warehouse. 

А также, возможно:
- Main {true,false} - флаг, Поставщик активный/неактивный, а можно брать в таблице __skubody__
- Date_end - дата, когда Поставщик перестал быть Активным.

##Примечание:
Поставщик может быть отредактирован путем

1. Импорта из *.csv (плановый/внеплановый)
2. Выгрузки *.xls
3. Редактирования через интерфейс приложения

##Логика:

![alt text](https://www.dropbox.com/s/dgjishj6de3nggn/RecentSupplierLogicv1.PNG)
Inline-style: 
![alt text](https://www.dropbox.com/s/dgjishj6de3nggn/RecentSupplierLogicv1.PNG?dl=0)


1. Сравнить "новых" Поставщиков c данными из Таблицы. 
<br>Искать среди активных (флаг Main=1) по уникальному ключу SKU & Warehouse. _(это ускорит поиск благодаря снижению количества проверок)_.
Если все ровно -> Конец
2. Если появился новый Main поставщик для SKU & Warehouse _(для уникального ключа SKU & Warehouse)_:
2.1. Поставщик есть среди неактивных (Main=0) -> меняем флаг активности Main=1, обновляем дату (Date_beg=TODAY)
2.2. Поставщик отсутствует с таблице RecentSupplier  -> добавляем новую запись в Таблицу. Задаем "новичку" флаг Main=1 _(это может быть значением по умолчанию для всех новых Поставщиков)_ и проставляем дату Date_beg=TODAY.

3. Старому (предыдущему) Поставщику изменить статус (флаг Main=0)
